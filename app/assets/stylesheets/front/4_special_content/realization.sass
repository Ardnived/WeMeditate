@import "../../mixins/*"

@mixin realization-screen($mode, $screen)
  .realization[data-screen="#{$mode}"] > .realization__#{$screen}
    display: flex

    [data-for]:not([data-for="#{$mode}"])
      display: none

.realization > *
  display: none

  height: calc(100vh - 70px)
  max-height: 624px
  flex-direction: column
  justify-content: space-evenly

@include realization-screen("ready", "info")
@include realization-screen("paused", "info")
@include realization-screen("video", "video")
@include realization-screen("survey", "survey")
@include realization-screen("course", "form")
@include realization-screen("reminder", "form")
@include realization-screen("thanks", "thanks")
@include realization-screen("share", "thanks")

.realization .banner
  margin: 18px auto !important

.realization__subtitle
  text-align: center
  font-weight: $font-semibold
  font-size: 2.5rem
  margin-bottom: 10px
  padding: 0 12px

.realization__explanation
  max-width: 500px
  margin: 0 auto
  padding: 0 12px
  font-weight: $font-medium
  text-align: center

  li
    font-size: 25px
    max-width: 200px
    margin: 15px auto
    padding: 0 10px
    text-align: center
    
  span
    font-size: 16px

.realization__buttons
  width: 250px
  margin: 10px auto

  > *
    width: 100%
    margin-bottom: 10px

.realization__links
  text-align: center
  font-size: 1.6rem
  margin: 10px auto

.realization__link
  margin-bottom: 10px
  
  > a
    border-bottom: 1px solid $color-text-normal

    &:not(:hover)
      color: $color-text-normal

    &:hover
      cursor: pointer
      color: darken($color-text-blue, 50%)
      border: 0


// ===== VIDEO VIEW ===== //

.realization__video
  padding-top: 3vh
  height: auto
  max-height: none
  
  &-frame--desktop
    @extend %wide-content-width

    @include tablet-or-smaller
      display: none

  &-frame--mobile
    @extend %narrow-content-width

    @include laptop-or-larger
      display: none


// ===== FORM VIEWS ===== //

.realization__form__fields
  width: 100%
  max-width: 510px + (2 * $gutter-width)
  padding: 0 $gutter-width
  margin: auto
  margin-top: 46px
  margin-bottom: 62px

  input
    width: 100%
    font-size: 1.6rem
    padding: 16px 0
    outline: transparent
    background-color: transparent
    border: none
    border-bottom: 1px solid $color-text-dark
    margin-bottom: 1.5em

.realization__form__notice
  text-align: left
  font-size: 1.2rem
  line-height: 1.4


// ===== THANKS VIEW ===== //
.realization__thanks
  max-height: 720px

  .realization__buttons
    margin: 24px auto

.realization__circle
  padding-bottom: $gutter-width
  background: url('graphics/circle.svg') no-repeat center
  position: relative
  width: 320px
  height: 320px
  padding: 50px
  margin: auto
  text-align: center
  box-sizing: border-box
  
  display: flex
  flex-direction: column
  align-items: center
  justify-content: center

  > strong
    font-size: 3rem
    margin-top: 20px
    margin-bottom: 18px

  > span
    font-size: 1.6rem

.realization__thanks__content
  @include gradient(to top, 'blue')
  padding: 24px 10px

.realization__share__permalink
  position: relative

  input
    display: block
    width: 330px
    max-width: calc(100vw - 48px)
    padding: 17px 20px
    margin: 20px auto
    margin-bottom: 36px
    font-weight: $font-semibold
    size: 1.4rem
    line-height: 1.6rem
    letter-spacing: 0.18px

  span
    display: none
    font-size: 1.6rem
    color: $color-text-blue-dark
    text-align: center
    position: absolute
    left: 0
    right: 0
    bottom: -1.5em

  input:focus + span
    display: block

.realization__share__links
  display: flex
  justify-content: space-evenly
  max-width: 300px
  margin: 24px auto

  > input
    display: block
    margin-bottom: 24px

  > a
    display: inline-block
    margin: 0 10px
    font-size: 40px
    width: 40px

.realization__survey
  max-height: 700px

.realization__survey__options
  display: flex
  flex-wrap: wrap
  justify-content: center
  margin: 20px auto
  max-width: 420px

.realization__survey__option-box
  font-weight: $font-normal
  box-sizing: border-box
  width: 150px
  height: 150px
  padding: 10px
  margin: 10px
  text-align: center
  cursor: pointer
  transition: 0.5s ease

  border: 2px solid $color-text-normal
  border-radius: 4px

  display: flex
  flex-direction: column
  justify-content: space-around
  align-items: center

  &:hover
    background: transparentize(black, 0.95)

  svg
    width: 50px
    height: 50px

.realization__survey__option input
  display: none

  &:not(:checked) + .realization__survey__option-box
    border-color: transparent

$option-colours: ('cool': #8EC2BB, 'warm': #E08E79, 'calm': #8ABA44)
@each $key, $colour in $option-colours
  .realization__survey__option--#{$key}
    path
      fill: $colour

    .realization__survey__option-box
      border-color: $colour

