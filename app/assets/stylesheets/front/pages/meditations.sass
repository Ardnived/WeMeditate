@import "../../mixins/vars"

body.meditations-index

  &.open-menu
    @include tablet-or-smaller
      overflow: hidden
      height: 100vh

  main section
    padding: 20px 0
    margin-bottom: 0
    
    &.page-title
      padding: 25px 0
      
    .title
      text-align: center
      font-size: 2.125em
      font-family: $raleway-bold
      margin: 0
      letter-spacing: .05em

      @include desktop
        font-size: 2.8125em
        margin: 24px 0

      @include tablet-or-smaller
        font-size: 1.675em

      @include mobile
        line-height: 1.25em
        
    h2.title
      font-family: $raleway-medium
      font-weight: 500
      letter-spacing: .02em
      margin: 35px 0 25px

      @include desktop
        margin: 35px 0 50px

  section.intro
    margin-bottom: 50px

  nav.filters
    margin-bottom: 2.8em

    @include mobile
      text-align: center

    .filter.button
      margin-right: 44px
      margin-bottom: 0.625em

      @include mobile
        margin: 10px 22px

  .sidetext
    display: none
    @include desktop
      display: block

  #meditations-triangle::after
    bottom: auto
    right: 10.5%
    top: -120px
    zoom: 0.875

  .grid-row
    display: flex
    margin: 0 -15px
    &.slick-slider
      margin: 0
      > *
        padding: 0

    > *
      padding: 0 15px

    .grid-sizer
      width: 33.33%

  #grid
    article, .grid-sizer
      width: 25%

      @include laptop
        width: 33.33%

      @include tablet
        width: 50%

      @include mobile
        width: 100%

  article
    padding: 0 10px
    margin-bottom: 1em

    a
      position: relative
      display: block
      width: 100%
      height: 100%

      > .overlay
        opacity: 0.75
        background-color: rgba(0,0,0,0.3)

      > .overlay:hover
        opacity: 0.95
        background-color: rgba(0,0,0,0.5)

    .overlay > *
      font-size: 1.5em
      font-family: $raleway-semi
      letter-spacing: 1px
      text-transform: uppercase
      padding: 1em

  .meditation
    &-item
      margin-bottom: 50px
      
      .video
        &-preview
          display: block
          padding-top: 57%
          position: relative
          overflow: hidden
          background-size: cover
          margin-bottom: 18px

          @include desktop
            margin-bottom: 25px

          @include tablet-or-smaller
            margin-bottom: 13px

          .button.video
            transform: translateX(-50%) translateY(-50%)
            margin: 0
            width: 110px
            height: 110px
            padding: 22px

            @include  desktop
              width: 148px
              height: 148px


        &-title
          font-family: $raleway-semi
          font-size: 1.125em
          margin: 7px 0

          @include desktop
            font-size: 1.5em
            margin: 20px 0

      img
        display: block
        position: absolute
        opacity: 0
        z-index: -1
        
      p
        margin-top: 0
        font-size: 0.875em
        line-height: 1.5em

        @include desktop
          font-size: 1.125em
          line-height: 1.7em

    &-header
      font-size: 1.625em
      font-family: $raleway
      font-weight: normal
      white-space: nowrap
      overflow: hidden
      text-overflow: ellipsis
      margin: 5px 0 20px

      @include desktop
        font-size: 2.1875em
        margin-bottom: 28px

      @include tablet-or-smaller
        font-size: 1.5em
        margin-bottom: 10px

    &-img
      display: block
      position: absolute
      opacity: 0
      z-index: -1

  .slick-dots
    bottom: -10px
    
    li
      button:before
        opacity: .5
        font-size: 12px
        
      &.slick-active
        button:before
          opacity: 1
          color: $blue

.own-meditation
  background: image-url("sections/try-meditation/own-meditate-full-bg.jpg") no-repeat bottom center
  background-size: cover
  min-height: 1500px

  @include laptop
    min-height: 1250px
  
  @include tablet-or-smaller
    background: image-url("sections/try-meditation/own-meditate-full-bg-tablet.png") no-repeat bottom center
    background-size: cover
    min-height: 130vw

  @include mobile
    min-height: auto
    background-image: none

  form
    max-width: none
    text-align: center
    
  .active-goal
    position: relative
    display: inline-block
    height: 100px
    text-align: left
    cursor: pointer
    padding: 25px 90px 15px 122px
    margin: 0
    letter-spacing: 0

    @include desktop
      padding: 15px 90px 15px 115px
      margin: 20px 0
      letter-spacing: .08em

    @include tablet-or-smaller
      padding: 25px 20px 15px 95px

    @include mobile
      display: block
      padding: 0 30px
      margin-bottom: 0
      height: auto
      text-align: center

    &-header
      color: $dark-gray-d
      font-size: 1.625em

      @include desktop
        font-size: 2em

      @include tablet-or-smaller
        font-size: 1.5em

    &.disable
      .active-goal-header:after
        content: '...'
        display: inline-block
        padding-left: 10px

      .active-goal-text
        font-size: 1rem
        font-family: $raleway
        color: $color-text-darker
        text-transform: none
        opacity: .4

      .active-goal-icon
        background-color: $blue
        text-align: center
        display: flex
        align-items: center
        justify-content: center

        @include desktop
          margin: 0
          margin-top: -20px
          background-color: transparent

        svg
          width: 80%
          display: inline-block
          padding: 0 10px
          
          path
            fill: $color-text-inverse
            stroke: $color-text-inverse
            stroke-width: 3
            stroke-linecap: round
            
            @include desktop
              fill: #cecece
              stroke: #cecece

    &-icon
      width: 88px
      height: 88px

      position: absolute
      top: 50%
      left: 0
      border-radius: 100%
      overflow: hidden
      transform: translateY(-50%)
      transition: hidden .3s ease
      background: #ddd
      margin: 0

      @include tablet-or-smaller
        width: 70px
        height: 70px
      
      @include mobile
        margin: 25px auto
        position: static
        transform: translateY(0)
        display: block
        
      svg
        path,
        g,
        circle
          fill: $color-text-inverse
          stroke: $color-text-inverse

    &-text
      display: block
      font-family: $raleway-bold
      font-weight: bold
      font-size: 2em
      line-height: 1em
      text-transform: lowercase

  .mobile-img
    display: none
    @include mobile
      display: block
      margin: 70px -15px 0

.select-meditation
  display: flex
  text-align: left
  
  @include mobile
    display: block

  .select-goals,
  .duration
    flex-grow: 1
    width: 50%
    position: relative

    @include mobile
      width: 100%
      
  .goals
    position: relative
    padding: 0

    @include desktop
      padding-left: 26%

    @include tablet-or-smaller
      padding-left: 16%

    @include mobile
      padding: 0
      max-width: 350px
      margin: 20px auto 40px

    &:after
      content: ''
      position: absolute
      display: inline-block
      right: 55px
      top: 50%

      width: 14px
      height: 14px

      border-left: 1px solid $color-text-normal
      border-bottom: 1px solid $color-text-normal
      transform: rotate(-45deg)
      margin-top: -18px

      @include tablet-or-smaller
        display: none
      
      @include mobile
        border-left: none
        display: inline-block
        transform: rotate(0deg)
        height: 0
        width: 60px
        margin-left: -30px
        left: 50%
        right: auto
        top: 100%
        margin-top: 20px

    &:before
      content: ''
      display: inline-block
      position: absolute
      right: 55px
      bottom: -16px
      width: 0
      height: 0
      border: 9px solid transparent
      border-bottom: 15px solid $background-white
      z-index: 99
      opacity: 0
      transition: all .5s ease
      
  .duration
    align-items: center
    display: flex
    justify-content: space-between

    @include desktop
      justify-content: center

    @include mobile
      display: block
      text-align: center


    &-title
      display: block
      font-size: 1.625em
      line-height: 80px
      color: $dark-gray-d
      width: auto
      text-align: center
      padding: 0 20px 0 20px
      letter-spacing: .02em

      @include desktop
        font-size: 2em
        max-width: 50%
        padding: 0 27px 0 40px

      @include laptop
        flex: 1 1 auto

      @include tablet-or-smaller
        font-size: 1.5em
        flex: 1 1 auto


  .open
    &:before
      opacity: 1
      
    &:after
      transform: rotate(135deg)

    .dropdown
      max-height: 800px
      
      @include tablet-or-smaller
        max-height: none
        
      .btn-close
        @include tablet-or-smaller
          display: inline-block

  .dropdown
    position: absolute
    top: 100%
    left: 0
    right: 0
    background: $background-white
    box-shadow: 1px 1px 60px 2px rgba(0, 0, 0, .2)
    max-height: 0
    overflow: hidden
    transition: all .5s ease
    z-index: 90
    margin-top: 15px

    @include laptop
      left: -15px
    
    @include tablet-or-smaller
      display: flex
      flex-direction: column
      position: fixed
      top: 0
      left: 0
      bottom: 0
      right: 0
      z-index: 9999
      overflow: hidden
      margin: 0

    .title
      display: none
      @include tablet-or-smaller
        display: block
        text-align: center
        font-size: 1.5em
        margin-top: 70px

    .btn-close
      height: 34px
      width: 34px
      right: 15px
      top: 15px
      position: fixed
      display: none

      &:before, &:after
        content: ""
        position: absolute
        background-color: #555
        top: 15px
        left: 0
        right: 0
        transition: all 0.5s ease
        width: 30px
        height: 1px
        margin: 0 auto
        
      &:after
        transform: rotateZ(-0.7854rad)
        
      &:before
        transform: rotateZ(0.7854rad)

    ul
      display: flex
      flex-wrap: wrap
      padding: 27px 57px
      align-items: flex-start

      @include laptop
        padding: 25px

      @include tablet-or-smaller
        overflow-y: auto
        max-height: 90%
        flex: 1 1 auto

    li
      display: flex
      position: relative
      width: 50%
      align-items: center
      text-align: left
      font-family: $raleway-bold
      font-size: 1em
      color: $color-text-dark
      padding-left: 100px
      height: 90px
      cursor: pointer

      @include laptop
        padding-left: 90px
      
      @include mobile
        width: 100%

      svg.invert
        path,
        g,
        circle
          fill: $color-text-inverse
          stroke: $color-text-inverse

    img,
    svg
      width: 80px
      height: 80px

      position: absolute
      top: 50%
      left: 0
      border-radius: 100%
      overflow: hidden
      transform: translateY(-50%)
      transition: all .3s ease


  .radio
    display: inline-block
    position: relative
    width: 90px
    height: 90px
    margin: 0 10px
    cursor: pointer

    @include tablet-or-smaller
      width: 66px
      height: 66px
      margin: 0 6px
      &:last-child
        margin-right: 0


    input
      position: absolute
      z-index: -1
      opacity: 0

    &-text
      position: absolute
      width: 100%
      height: 100%
      top: 0
      left: 0
      display: flex
      justify-content: center
      align-items: center

      &:before
        content: ''
        position: absolute
        top: 0
        left: 0
        width: 100%
        height: 100%
        border: 1px solid #7b7b7b
        border-radius: 100%
        background: $color-text-inverse

      &:after
        content: ''
        position: absolute
        top: 0
        left: 0
        width: 100%
        height: 100%
        border-radius: 100%
        background: $blue
        border: 1px solid $blue
        opacity: 0
        transition: .2s

    span
      position: relative
      z-index: 99
      font-size: 0.875rem
      font-family: $raleway-bold
      color: #7b7b7b

    input:checked + .radio-text span
      color: $color-text-inverse

    input:checked + .radio-text:after
      opacity: 1


.start-meditation
  width: 280px
  height: 280px
  background: image-url("graphics/circle-dark.svg") no-repeat bottom center transparent
  border: none
  color: $color-text-dark
  cursor: pointer
  display: inline-block
  font-size: 2em
  margin-top: 50px
  padding: 50px

  @include tablet-or-smaller
    width: 220px
    height: 220px
    font-size: 1.5em
    padding: 40px

  &:focus
    outline: none
