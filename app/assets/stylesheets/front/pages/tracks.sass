@import "../../mixins/functions"
@import "../../mixins/vars"

body.tracks-index
  section.intro
    margin-bottom: 50px

  section
    margin-bottom: 4rem

  #tracks-triangle::after
    bottom: auto
    right: 10.5%
    top: -120px
    zoom: 0.875

  .container
    > h2
      font-size: 1.4em
      line-height: 1em

    > h3
      margin-top: 2.2em

  .filters
    margin-left: 3px

    @include tablet-or-smaller
      text-align: center

    .filter
      margin-right: 48px

      @include tablet-or-smaller
        margin: 10px 22px
    &.mood
      .filter
        font-size: 16px
        line-height: 29px
        border-color: #9d9d9c
        color: #9d9d9c
        padding: 2px 0
        display: inline-block
        width: 130px
        font-family: $raleway-semi
        font-weight: 400

    &.instrument
      display: flex
      justify-content: flex-start
      @include mobile
        display: flex
        justify-content: space-around

      .filter
        display: flex
        align-items: center
        justify-content: flex-start
        margin: 0 30px
        cursor: pointer

        @include mobile
          margin: 0 5px

        &-icon
          svg
            fill: #9d9d9c
            height: 50px
            width: auto
            transition: fill .3s ease
        &-name
          font-size: 1em
          padding-left: 10px

        &.active,
        &:hover
          opacity: 0.95
          svg
            fill: $color-text-blue

      img
        height: 50px

  .player
    margin-top: 3em

    .current-info
      margin-left: 15px

    .info
      padding-left: 70px

    .plyr__controls
      color: #9d9d9c
      .extra
        @include mobile
          display: none

      > .plyr__control
        &:first-child
          display: flex
          position: absolute
          top: -43px
          border: 1px solid
          border-radius: 0
          width: 40px
          height: 40px
          background: #fff
          &:hover
            .equalizer-bar
              background: $color-player-blue


          > *
            margin: auto

          .equalizer
            display: none
            position: relative
            height: 24px
            line-height: 24px
            font-size: 0
            overflow: hidden

            &-bar
              display: inline-block
              width: 1px
              height: 100%
              background: #9d9d9c
              margin-right: 2px
              transition: all .3s ease

              &:nth-child(1)
                height: 70%
                @include equalize-animation

              &:nth-child(2)
                @include equalize-animation-2

              &:nth-child(3)
                height: 70%
                @include equalize-animation
                animation-duration: .2s

              &:nth-child(4)
                @include equalize-animation-2
                animation-duration: 150ms

              &:nth-child(5)
                height: 70%
                @include equalize-animation
                animation-duration: 150ms

              &:nth-child(6)
                height: 70%
                @include equalize-animation
                animation-duration: .2s
        &[data-plyr="mute"]
          width: 30px
          height: 30px
          position: relative
          overflow: hidden
          text-align: left
          &:before
            content: ''
            display: inline-block
            width: 17px
            height: 20px
            background: image-url("sections/music/volume.png") no-repeat
            background-size: 17px 20px
          &[aria-pressed="true"]
            &:before
              width: 12px
          svg
            display: none

    .plyr
      &--playing
        .plyr__control
          &:first-child
            .equalizer
              display: block
              font-size: 30px

            .icon--pressed
              display: none

      &__progress
        font-size: 12px
        //color: #9d9d9c
        font-weight: 300
        margin: 0
        &--buffer
          display: none

      &__time
        &--current,
        &--duration
          position: absolute
          top: 100%

        &--current
          left: 0

        &--duration
          right: 0


    .playlist
      .info
        padding-left: 0

    #track-player-title
      font-size: 1.5em
      line-height: 1.3em
      letter-spacing: -1px
      color: $color-text-darker

    #track-player-artist
      font-size: 1em
      line-height: 1em
      margin-left: 1px
      color: $color-text-normal

  .playlist
    position: relative
    min-height: 460px
    width: 100%
    max-width: 638px
    margin-left: auto
    margin-top: 88px
    padding: 50px 0 60px 144px
    background: linear-gradient(to left,rgba(255,255,255,.01) 0,rgba(255,255,255,.18) 25%,rgba(197,224,220,.3) 100%)

    @include tablet
      margin: auto
      max-width: 766px

    @include tablet-or-smaller
      margin-top: 50px
      padding: 50px
      min-height: 0

    @include mobile
      background: none
      padding: 0

    > .title
      font-size: 1.5em
      line-height: 1.5em
      margin-bottom: 0.4em
      letter-spacing: 1px

      @include mobile
        font-size: 1.375em
        margin-bottom: 0.75em

    #selected-filter-icons img
      height: 0.8em
      opacity: 0.5
      margin-left: 0.25em

    .cover
      position: absolute
      top: 102px
      left: -288px
      width: 348px

      @include tablet-or-smaller
        display: none

    #track-mood-title
      position: absolute
      color: $color-text-normal
      letter-spacing: 2px
      margin-top: 5px
      font-size: 2em
      margin-right: 390px
      border: 1px solid transparent

    .list
      position: relative
      list-style: none

      @include tablet
        max-width: 540px

    .list > *
      width: 100%
      margin-bottom: 28px
      padding-right: 150px

      .label
        display: block
        color: $color-text-dark
        font-size: 1.2em
        line-height: 1.5em

        i.icon
          width: 35px
          font-size: 0.6em
          text-align: center

      .artist
        display: block
        font-size: 0.7em
        line-height: 0.8em
        padding-left: 35px
        padding-bottom: 1em

        &:hover
          color: $color-text-orange

      .duration
        position: absolute
        right: 7px
        bottom: 12px

        font-family: $futura-book
        font-size: 0.7em
        line-height: 2.25em

      &.active
        border: 1px solid $background-blue
