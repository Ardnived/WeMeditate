@import "../../../mixins/vars"

section.type-special.format-subtle-system
  text-align: center

  h2.title
    font-size: 2.6em
    font-family: $raleway
    font-weight: 300
    color: $color-text-lighter
    margin-bottom: 0

  .chart
    margin: auto
    max-width: 42%

    @include mobile
      max-width: 90%

    svg
      margin-bottom: 2em

  .article, .node
    fill-opacity: 1
    opacity: 0
    visibility: hidden
    transition: visibility 0s linear 0.6s, opacity 0.6s ease

    &.active
      opacity: 1
      visibility: visible
      transition-delay: 0s

  .articles
    text-align: left

    @include mobile
      position: relative
      height: 30vw

  .article
    position: absolute

    @include mobile
      top: 0

    @include tablet
      padding: 1em

    @include laptop-or-larger
      padding: 2em

    @include tablet-or-larger
      top: 4em
      width: 320px
      max-width: 45%
      margin-top: 70px

      &.chakra-7,
      &.chakra-6
        top: 0

      &.chakra-5
        top: 10%

      &.chakra-4
        top: 20%

      &.chakra-3,
      &.chakra-3b
        top: 30%

      &.chakra-2
        top: 40%

      &.chakra-1
        top: 50%

      &.kundalini,
      &.channel-center,
      &.channel-left,
      &.channel-right,
        top: 15%

      &:nth-child(even)
        left: 0

      &:nth-child(odd)
        right: 0

    p
      font-size: 0.8em
      line-height: 1.75em
      letter-spacing: -0.1px

    a
      display: block
      margin-top: 2em
      font-size: 0.875em

      i.icon
        margin-left: 1.5em
        font-size: 0.75em

  .chart
    position: relative

    &:not(.active)
      display: none

    .trigger
      display: block
      width: 8%
      height: 6%
      margin-left: -4%

      position: absolute
      left: 50%
      cursor: pointer

      &.for-chakra-7
        top: 6%
        width: 18%
        height: 10%
        margin-left: -9%

      &.for-chakra-6
        top: 18%

      &.for-chakra-5
        top: 31.5%

      &.for-chakra-4
        top: 42%

      &.for-chakra-3b
        top: 48.5%
        width: 28%
        height: 22.5%
        margin-left: -14%

      &.for-chakra-3
        top: 56.5%
        z-index: 1

      &.for-chakra-2
        top: 68%
        z-index: 1

      &.for-chakra-1
        top: 80.5%

      &.for-kundalini
        top: 76%
        height: 6.5%

      &.for-channel-right-1,
      &.for-channel-right-2,
      &.for-channel-center,
      &.for-channel-left-1,
      &.for-channel-left-2
        width: 1.5%
        margin-left: -0.75%

      &.for-channel-right-1,
      &.for-channel-left-1,
      &.for-channel-center
        top: 15%
        height: 6%

      &.for-channel-right-2,
      &.for-channel-left-2
        top: 21%

      &.for-channel-right-1,
      &.for-channel-left-1
        width: 3%

      &.for-channel-center
        height: 61%

      &.for-channel-left-1
        margin-left: -4.5%

      &.for-channel-right-1
        margin-left: 1.5%

      &.for-channel-right-2
        margin-left: -6%
        height: 53%

      &.for-channel-left-2
        margin-left: 4.5%
        height: 66%

    &.channels
      .transparent-lines
        transition: all 0.6s ease

      g.node.active + g .transparent-lines
        stroke: transparent

      g.node:not(.active) + g .transparent-lines
        fill: transparent
        stroke: gray

      g.kundalini.node.active + g
        stroke: #b38900

  nav.primary.filters
    justify-content: center
    padding-top: 0
