
= f.input :name
= f.input :email, as: :email

- available_languages = current_user.available_languages.collect { |l| [language_name(l), l] }
- selected = (@record.languages unless @record.languages == current_user.available_languages)
- other_languages = (@record.available_languages - current_user.available_languages)

- if !selected.present? && other_languages.present?
  - other_languages = other_languages.map { |lang| language_name(lang) }.join(', ')
  - hint = "#{translate('admin.misc.locale.other_languages')}: #{other_languages}"

= f.input :languages, selected: selected, collection: available_languages, hint: hint, prompt: translate('admin.misc.locale.all_languages'), input_html: { multiple: true }

= f.input :role, collection: @assignable_roles.map { |k, v| [human_enum_name(User, :role, k), k] }

table.ui.definition.table
  thead
    tr
      th = translate('admin.permissions.title')
      - User.roles.keys.each do |role|
          th = human_enum_name(User, :role, role)
  tbody = permissions_matrix User.roles.keys

.ui.message = translate('admin.permissions.own_languages_notice')
